<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Mahdi Arshi">
    <title>فروشگاه لپ‌تاپ Mahdi Arshi - بهترین لپ‌تاپ‌ها با قیمت مناسب</title>
    <meta name="description" content="فروشگاه لپ‌تاپ Mahdi Arshi، ارائه‌دهنده انواع لپ‌تاپ‌های برندهای معتبر با بهترین قیمت و ضمانت اصالت کالا">
    <meta name="keywords" content="لپ‌تاپ, کامپیوتر, اپل, لنوو, ایسوس, اچ‌پی, دل, فروشگاه">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    <meta property="og:title" content="فروشگاه لپ‌تاپ Mahdi Arshi">
    <meta property="og:description" content="بهترین لپ‌تاپ‌ها با قیمت مناسب">
    <meta property="og:image" content="./og-image.jpg">
    <meta property="og:url" content="https://mahdilaptop.ir">
    <meta property="og:type" content="website">
    
    <!-- فونت وزیرمتن برای نمایش بهتر فارسی -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700&display=swap');

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            padding-top: 70px; /* برای نوار ناوبری ثابت */
        }

        .skip-link {
            position: absolute;
            top: -40px;
            right: 0;
            background: #007bff;
            color: white;
            padding: 8px;
            z-index: 100;
            text-decoration: none;
            border-radius: 0 0 5px 5px;
        }

        .skip-link:focus {
            top: 0;
        }

        .visually-hidden-focusable:not(:focus):not(:focus-within) {
            position: absolute !important;
            width: 1px !important;
            height: 1px !important;
            padding: 0 !important;
            margin: -1px !important;
            overflow: hidden !important;
            clip: rect(0, 0, 0, 0) !important;
            white-space: nowrap !important;
            border: 0 !important;
        }

        .navbar {
            background-color: #343a40 !important;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            left: -8px;
            background-color: #dc3545;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        .cart-btn {
            transition: all 0.3s ease;
        }
        
        .cart-btn:hover {
            transform: translateY(-2px);
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            margin-left: 15px;
        }
        
        .cart-item-details {
            flex-grow: 1;
        }
        
        .cart-item-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            color: #dc3545;
        }
        
        .cart-item-quantity {
            display: flex;
            align-items: center;
            margin-top: 5px;
        }
        
        .quantity-btn {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 3px;
        }
        
        .quantity-btn:hover {
            background: #e9ecef;
        }
        
        .quantity-value {
            margin: 0 10px;
            min-width: 30px;
            text-align: center;
        }
        
        .cart-total {
            padding: 15px 0;
            border-top: 2px solid #dee2e6;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            font-size: 1.2rem;
        }
        
        .empty-cart {
            text-align: center;
            padding: 40px 20px;
            color: #6c757d;
        }
        
        .empty-cart i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #adb5bd;
        }
        
        /* استایل‌های محصولات */
        .product-item .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #dee2e6;
            overflow: hidden;
        }
        
        .product-item .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .discount-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: #dc3545;
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 1;
        }
        
        .card-img-container {
            height: 200px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f8f9fa;
        }
        
        .card-img-container img {
            max-height: 100%;
            max-width: 100%;
            object-fit: contain;
            transition: transform 0.3s ease;
        }
        
        .product-item .card:hover .card-img-container img {
            transform: scale(1.05);
        }
        
        .old-price {
            text-decoration: line-through;
            color: #6c757d;
            font-size: 0.9rem;
            display: block;
            margin-bottom: 5px;
        }
        
        .price {
            font-weight: bold;
            color: #dc3545;
            font-size: 1.1rem;
        }
        
        .rating {
            color: #ffc107;
        }
        
        .specs-summary .badge {
            margin-left: 5px;
            margin-bottom: 5px;
            font-weight: normal;
        }
        
        /* استایل‌های نظرات */
        .review-section {
            margin-top: 15px;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        
        .review-toggle {
            font-weight: bold;
            color: #007bff;
            cursor: pointer;
            list-style: none;
        }
        
        .review-toggle::-webkit-details-marker {
            display: none;
        }
        
        .review-toggle:before {
            content: '+ ';
        }
        
        .review-section[open] .review-toggle:before {
            content: '- ';
        }
        
        .review {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .review-author {
            font-weight: bold;
        }
        
        .review-date {
            color: #6c757d;
        }
        
        .review-rating {
            color: #ffc107;
            margin-bottom: 5px;
        }
        
        .review-text {
            margin-bottom: 0;
            font-size: 0.9rem;
        }
        
        .add-review {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
        }
        
        /* استایل‌های فیلترها */
        .filter-section {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #dee2e6;
            margin-bottom: 20px;
        }
        
        .product-filters {
            margin-bottom: 15px;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 15px;
        }
        
        .product-filters:last-child {
            border-bottom: none;
        }
        
        .filter-title {
            background: none;
            border: none;
            padding: 10px 0;
            font-weight: bold;
            color: #495057;
            cursor: pointer;
        }
        
        .filter-title:hover {
            color: #007bff;
        }
        
        .filter-title i {
            transition: transform 0.3s ease;
        }
        
        .filter-title[aria-expanded="true"] i {
            transform: rotate(180deg);
        }
        
        .filter-content {
            padding: 10px 0;
        }
        
        .price-range {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .price-range label {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        /* استایل‌های قهرمان */
        .carousel-item {
            height: 400px;
        }
        
        .carousel-item img {
            height: 100%;
            object-fit: cover;
        }
        
        .carousel-caption {
            background-color: rgba(0, 0, 0, 0.6);
            border-radius: 10px;
            padding: 20px;
            bottom: 20px;
            right: 20px;
            left: 20px;
        }
        
        /* استایل‌های ویژگی‌ها */
        .features-section {
            background-color: #f8f9fa;
        }
        
        .feature-box {
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            height: 100%;
            transition: transform 0.3s ease;
        }
        
        .feature-box:hover {
            transform: translateY(-5px);
        }
        
        /* استایل‌های فوتر */
        .footer {
            background-color: #212529 !important;
        }
        
        .footer-links a {
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: #007bff !important;
        }
        
        .social-icons a {
            display: inline-block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .social-icons a:hover {
            background-color: #007bff;
            transform: translateY(-3px);
        }
        
        /* استایل‌های بخش تکمیل خرید */
        .checkout-steps {
            margin-bottom: 2rem;
        }

        .checkout-steps .steps {
            position: relative;
        }

        .checkout-steps .steps:before {
            content: '';
            position: absolute;
            top: 15px;
            right: 0;
            left: 0;
            height: 2px;
            background-color: #e9ecef;
            z-index: 1;
        }

        .checkout-steps .step {
            text-align: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }

        .checkout-steps .step-circle {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #e9ecef;
            color: #6c757d;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 8px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .checkout-steps .step.active .step-circle {
            background-color: #007bff;
            color: white;
        }

        .checkout-steps .step.completed .step-circle {
            background-color: #28a745;
            color: white;
        }

        .checkout-steps .step-title {
            font-size: 0.85rem;
            color: #6c757d;
            font-weight: 500;
        }

        .checkout-steps .step.active .step-title {
            color: #007bff;
            font-weight: bold;
        }

        .checkout-steps .step.completed .step-title {
            color: #28a745;
        }

        .checkout-step {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .checkout-step.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .shipping-option, .payment-option {
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .shipping-option:hover, .payment-option:hover {
            border-color: #007bff;
            background-color: #f8f9fa;
        }

        .shipping-option.active, .payment-option.active {
            border-color: #007bff;
            background-color: #e7f1ff;
        }

        .shipping-option .form-check, .payment-option .form-check {
            margin: 0;
            display: flex;
            align-items: center;
        }

        .shipping-option .form-check-input {
            margin-top: 0;
            margin-left: 10px;
        }

        .shipping-option label, .payment-option label {
            display: flex;
            flex-direction: column;
            flex: 1;
            cursor: pointer;
        }

        .shipping-title, .payment-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .shipping-desc, .payment-desc {
            font-size: 0.9rem;
            color: #6c757d;
        }

        .shipping-price {
            margin-top: 5px;
            color: #28a745;
            font-weight: bold;
        }

        .card-details {
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .order-summary {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .order-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }

        .order-item:last-child {
            border-bottom: none;
        }

        .order-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            margin-left: 15px;
            border-radius: 5px;
        }

        .order-item-details {
            flex: 1;
        }

        .order-item-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .order-item-quantity {
            color: #6c757d;
            font-size: 0.9rem;
        }

        .order-item-price {
            font-weight: bold;
            color: #dc3545;
        }

        .terms-content h6 {
            color: #495057;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e9ecef;
        }

        .terms-content p {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .success-icon {
            animation: bounceIn 0.6s ease;
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0.5);
                opacity: 0;
            }
            70% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* استایل برای فرم‌های اعتبارسنجی */
        .was-validated .form-control:valid {
            border-color: #28a745;
            padding-right: calc(1.5em + 0.75rem);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }

        .was-validated .form-control:invalid {
            border-color: #dc3545;
            padding-right: calc(1.5em + 0.75rem);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }
        
        /* استایل‌های موبایل */
        @media (max-width: 768px) {
            body {
                padding-top: 60px;
            }
            
            .carousel-item {
                height: 250px;
            }
            
            .carousel-caption h5 {
                font-size: 1rem;
            }
            
            .carousel-caption p {
                font-size: 0.8rem;
                display: none;
            }
            
            .hero-section {
                margin-top: 10px;
            }
            
            .product-sort {
                width: 100%;
                margin-top: 10px;
            }
            
            .product-sort select {
                width: 100%;
            }
            
            .d-flex.justify-content-between.align-items-center.mb-3 {
                flex-direction: column;
                align-items: flex-start !important;
            }
            
            .checkout-steps .step-title {
                font-size: 0.75rem;
            }
        }
        
        /* استایل‌های جستجو */
        .search-box {
            position: relative;
        }
        
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: white;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }
        
        .search-result-item {
            padding: 10px;
            border-bottom: 1px solid #dee2e6;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .search-result-item:hover {
            background-color: #f8f9fa;
        }
        
        .search-result-item:last-child {
            border-bottom: none;
        }
        
        .search-result-image {
            width: 40px;
            height: 40px;
            object-fit: cover;
            margin-left: 10px;
        }
        
        /* استایل‌های صفحه‌بندی */
        .pagination .page-link {
            color: #495057;
            border: 1px solid #dee2e6;
        }
        
        .pagination .page-item.active .page-link {
            background-color: #007bff;
            border-color: #007bff;
        }
        
        /* استایل‌های مودال */
        .modal-header .nav-tabs {
            border-bottom: none;
            width: 100%;
        }
        
        .modal-header .nav-link {
            color: #495057;
            border: none;
            border-bottom: 2px solid transparent;
        }
        
        .modal-header .nav-link.active {
            color: #007bff;
            border-bottom: 2px solid #007bff;
            background-color: transparent;
        }
        
        .password-input .input-group .btn {
            border-color: #ced4da;
        }

        /* استایل‌های جدید برای بخش کاربری */
        .user-section .dropdown-toggle {
            display: flex;
            align-items: center;
        }

        .user-section .dropdown-toggle i {
            font-size: 1.2rem;
        }

        .user-section .dropdown-menu {
            min-width: 200px;
        }

        .user-section .dropdown-item {
            padding: 8px 15px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
        }

        .user-section .dropdown-item i {
            width: 20px;
            text-align: center;
        }

        .user-section .dropdown-divider {
            margin: 5px 0;
        }

        .auth-buttons .btn {
            white-space: nowrap;
        }

        /* استایل‌های ریسپانسیو */
        @media (max-width: 768px) {
            .user-section .dropdown-menu {
                position: static !important;
                transform: none !important;
                margin-top: 10px;
            }
            
            .user-section, .auth-buttons {
                width: 100%;
                margin: 10px 0;
            }
            
            .user-section .dropdown-toggle,
            .auth-buttons .btn {
                width: 100%;
                justify-content: center;
            }
            
            .auth-buttons .btn {
                margin: 5px 0 !important;
            }
        }
    </style>
</head>
<body>
    <!-- لینک پرش به محتوای اصلی برای دسترسی‌پذیری -->
    <a href="#main-content" class="skip-link visually-hidden-focusable">رفتن به محتوای اصلی</a>
    
    <!-- هدر ناوبری -->
    <header class="site-header">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" role="navigation" aria-label="ناوبری اصلی">
            <div class="container">
                <a class="navbar-brand" href="index.html" aria-label="صفحه اصلی فروشگاه لپ‌تاپ Mahdi Arshi">
                    <i class="fas fa-laptop" aria-hidden="true"></i> لپ‌تاپ Mahdi Arshi
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                        aria-controls="navbarNav" aria-expanded="false" aria-label="تغییر وضعیت منو">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="index.html">خانه</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#products">محصولات</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" 
                               data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">
                                برندها
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="#" data-brand="apple">اپل</a></li>
                                <li><a class="dropdown-item" href="#" data-brand="lenovo">لنوو</a></li>
                                <li><a class="dropdown-item" href="#" data-brand="asus">ایسوس</a></li>
                                <li><a class="dropdown-item" href="#" data-brand="hp">اچ‌پی</a></li>
                                <li><a class="dropdown-item" href="#" data-brand="dell">دل</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" data-brand="all">همه برندها</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html">تماس با ما</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">درباره ما</a>
                        </li>
                    </ul>
                    <div class="d-flex align-items-center">
                        <div class="search-box ms-3 position-relative">
                            <label for="searchInput" class="visually-hidden">جستجو در محصولات</label>
                            <input class="form-control" type="search" id="searchInput" 
                                   placeholder="جستجو..." aria-label="جستجو در محصولات">
                            <div class="search-results" id="searchResults"></div>
                        </div>
                        
                        <!-- بخش کاربر - ابتدا مخفی است -->
                        <div class="user-section ms-3" id="userSection" style="display: none;">
                            <div class="dropdown">
                                <button class="btn btn-outline-light dropdown-toggle" type="button" id="userDropdown" 
                                        data-bs-toggle="dropdown" aria-expanded="false" aria-label="منوی کاربری">
                                    <i class="fas fa-user-circle me-1"></i>
                                    <span id="userName">کاربر</span>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                    <li>
                                        <a class="dropdown-item" href="profile.html">
                                            <i class="fas fa-user me-2"></i>پروفایل من
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="orders.html">
                                            <i class="fas fa-shopping-bag me-2"></i>سفارش‌های من
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="wishlist.html">
                                            <i class="fas fa-heart me-2"></i>لیست علاقه‌مندی‌ها
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="addresses.html">
                                            <i class="fas fa-map-marker-alt me-2"></i>آدرس‌های من
                                        </a>
                                    </li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li>
                                        <a class="dropdown-item" href="settings.html">
                                            <i class="fas fa-cog me-2"></i>تنظیمات حساب
                                        </a>
                                    </li>
                                    <li>
                                        <button class="dropdown-item text-danger" id="logoutBtn">
                                            <i class="fas fa-sign-out-alt me-2"></i>خروج از حساب
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- دکمه‌های ورود/ثبت‌نام - ابتدا نمایش داده می‌شوند -->
                        <div class="auth-buttons ms-3" id="authButtons">
                            <button class="btn btn-outline-light login-btn" data-bs-toggle="modal" 
                                    data-bs-target="#authModal" aria-label="ورود به حساب کاربری">
                                <i class="fas fa-user" aria-hidden="true"></i> ورود
                            </button>
                            <button class="btn btn-outline-light register-btn ms-2" data-bs-toggle="modal" 
                                    data-bs-target="#authModal" aria-label="ثبت‌نام در سایت">
                                <i class="fas fa-user-plus" aria-hidden="true"></i> ثبت‌نام
                            </button>
                        </div>
                        
                        <div class="cart-menu ms-3">
                            <button class="btn btn-outline-light position-relative" aria-label="سبد خرید" data-bs-toggle="modal" data-bs-target="#cartModal">
                                <i class="fas fa-shopping-cart" aria-hidden="true"></i>
                                <span class="cart-count" id="cartCount">0</span>
                                <span class="visually-hidden">مورد در سبد خرید</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- محتوای اصلی -->
    <main id="main-content" class="main-content">
        <!-- اسلایدر قهرمان -->
        <section class="hero-section container mt-3" aria-label="اسلایدر محصولات ویژه">
            <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" 
                            class="active" aria-current="true" aria-label="اسلاید ۱"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" 
                            aria-label="اسلاید ۲"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" 
                            aria-label="اسلاید ۳"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="./4-2.jpg" class="d-block w-100" alt="لپ تاپ اپل">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>لپ تاپ مارک اپل</h5>
                            <p>بهترین و قدرتمندترین لپ‌تاپ‌های اپل با قیمت مناسب و ضمانت اصالت کالا</p>
                            <button class="btn btn-primary">مشاهده محصولات</button>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="./لنوا.jpg" class="d-block w-100" alt="لپ تاپ لنوو">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>لپ تاپ مارک لنوو</h5>
                            <p>لپ‌تاپ‌های لنوو با طراحی مدرن و عملکرد بالا برای تمام نیازهای شما</p>
                            <button class="btn btn-primary">مشاهده محصولات</button>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="./Asus-Vivobook-Series-1536x864.webp" class="d-block w-100" alt="لپ تاپ ایسوس">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>تخفیف‌های ویژه فصلی</h5>
                            <p>تخفیف‌های ویژه فصلی روی تمام برندها با شرایط پرداخت آسان</p>
                            <button class="btn btn-primary">مشاهده محصولات</button>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" 
                        data-bs-slide="prev" aria-label="اسلاید قبلی">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">قبلی</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" 
                        data-bs-slide="next" aria-label="اسلاید بعدی">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">بعدی</span>
                </button>
            </div>
        </section>

        <!-- بخش محصولات -->
        <section class="products-section container mt-5" id="products" aria-label="محصولات فروشگاه">
            <div class="row">
                <!-- نوار کناری فیلترها -->
                <aside class="col-lg-3 col-md-4">
                    <div class="filter-section" role="region" aria-label="فیلتر محصولات">
                        <h5 class="mb-3">فیلتر محصولات</h5>
                        
                        <!-- فیلتر دسته‌بندی‌ها -->
                        <div class="product-filters">
                            <button class="filter-title w-100 text-start d-flex justify-content-between align-items-center" 
                                    data-bs-toggle="collapse" data-bs-target="#categoryFilter" 
                                    aria-expanded="true" aria-controls="categoryFilter">
                                دسته‌بندی‌ها <i class="fas fa-chevron-down" aria-hidden="true"></i>
                            </button>
                            <div class="filter-content collapse show" id="categoryFilter">
                                <div class="form-check mb-2">
                                    <input class="form-check-input category-filter" type="checkbox" id="cat1" value="programming" data-category="programming">
                                    <label class="form-check-label" for="cat1">
                                        لپ‌تاپ برنامه‌نویسی
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input category-filter" type="checkbox" id="cat2" value="gaming" data-category="gaming">
                                    <label class="form-check-label" for="cat2">
                                        لپ‌تاپ گیمینگ
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input category-filter" type="checkbox" id="cat3" value="office" data-category="office">
                                    <label class="form-check-label" for="cat3">
                                        لپ‌تاپ اداری
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input category-filter" type="checkbox" id="cat4" value="graphic" data-category="graphic">
                                    <label class="form-check-label" for="cat4">
                                        لپ‌تاپ گرافیکی
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input category-filter" type="checkbox" id="cat5" value="student" data-category="student">
                                    <label class="form-check-label" for="cat5">
                                        لپ‌تاپ دانشجویی
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- فیلتر برندها -->
                        <div class="product-filters">
                            <button class="filter-title w-100 text-start d-flex justify-content-between align-items-center" 
                                    data-bs-toggle="collapse" data-bs-target="#brandFilter" 
                                    aria-expanded="true" aria-controls="brandFilter">
                                برندها <i class="fas fa-chevron-down" aria-hidden="true"></i>
                            </button>
                            <div class="filter-content collapse show" id="brandFilter">
                                <div class="form-check mb-2">
                                    <input class="form-check-input brand-filter" type="checkbox" id="brand1" value="apple" data-brand="apple">
                                    <label class="form-check-label" for="brand1">
                                        اپل
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input brand-filter" type="checkbox" id="brand2" value="lenovo" data-brand="lenovo">
                                    <label class="form-check-label" for="brand2">
                                        لنوو
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input brand-filter" type="checkbox" id="brand3" value="asus" data-brand="asus">
                                    <label class="form-check-label" for="brand3">
                                        ایسوس
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input brand-filter" type="checkbox" id="brand4" value="hp" data-brand="hp">
                                    <label class="form-check-label" for="brand4">
                                        اچ‌پی
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input brand-filter" type="checkbox" id="brand5" value="dell" data-brand="dell">
                                    <label class="form-check-label" for="brand5">
                                        دل
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- فیلتر قیمت -->
                        <div class="product-filters">
                            <button class="filter-title w-100 text-start d-flex justify-content-between align-items-center" 
                                    data-bs-toggle="collapse" data-bs-target="#priceFilter" 
                                    aria-expanded="true" aria-controls="priceFilter">
                                محدوده قیمت <i class="fas fa-chevron-down" aria-hidden="true"></i>
                            </button>
                            <div class="filter-content collapse show" id="priceFilter">
                                <div class="price-range">
                                    <label for="minPrice">از:</label>
                                    <input type="number" class="form-control" id="minPrice" placeholder="حداقل قیمت" min="0" value="0">
                                    <label for="maxPrice" class="mt-2">تا:</label>
                                    <input type="number" class="form-control" id="maxPrice" placeholder="حداکثر قیمت" min="0" value="30000000">
                                </div>
                                <button class="btn btn-primary w-100 mt-3" id="applyPriceFilter">اعمال فیلتر</button>
                            </div>
                        </div>
                  
                        <!-- فیلتر امتیاز -->
                        <div class="product-filters">
                            <button class="filter-title w-100 text-start d-flex justify-content-between align-items-center" 
                                    data-bs-toggle="collapse" data-bs-target="#ratingFilter" 
                                    aria-expanded="true" aria-controls="ratingFilter">
                                امتیاز کاربران <i class="fas fa-chevron-down" aria-hidden="true"></i>
                            </button>
                            <div class="filter-content collapse show" id="ratingFilter">
                                <div class="form-check mb-2">
                                    <input class="form-check-input rating-filter" type="radio" name="rating" id="rating5" value="5">
                                    <label class="form-check-label" for="rating5">
                                        <span class="stars" aria-label="۵ ستاره">
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                        </span>
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input rating-filter" type="radio" name="rating" id="rating4" value="4">
                                    <label class="form-check-label" for="rating4">
                                        <span class="stars" aria-label="۴ ستاره و بالاتر">
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="far fa-star text-warning"></i> و بالاتر
                                        </span>
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input rating-filter" type="radio" name="rating" id="rating3" value="3">
                                    <label class="form-check-label" for="rating3">
                                        <span class="stars" aria-label="۳ ستاره و بالاتر">
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="far fa-star text-warning"></i>
                                            <i class="far fa-star text-warning"></i> و بالاتر
                                        </span>
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input rating-filter" type="radio" name="rating" id="ratingAll" value="0" checked>
                                    <label class="form-check-label" for="ratingAll">
                                        همه امتیازها
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- دکمه حذف فیلترها -->
                        <button class="btn btn-outline-secondary w-100 mt-3" id="clearFilters">
                            <i class="fas fa-times" aria-hidden="true"></i> حذف فیلترها
                        </button>
                    </div>
                </aside>

                <!-- شبکه محصولات -->
                <div class="col-lg-9 col-md-8">
                    <div class="product-section">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2 class="section-title">محصولات ویژه</h2>
                            <div class="product-sort">
                                <label for="sortSelect" class="visually-hidden">مرتب‌سازی محصولات</label>
                                <select class="form-select" id="sortSelect" aria-label="مرتب‌سازی محصولات">
                                    <option value="default">مرتب‌سازی پیش‌فرض</option>
                                    <option value="price-low">قیمت: کم به زیاد</option>
                                    <option value="price-high">قیمت: زیاد به کم</option>
                                    <option value="rating">بالاترین امتیاز</option>
                                    <option value="newest">جدیدترین محصولات</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="row" id="productsList">
                            <!-- محصول 1: Lenovo ThinkPad X1 -->
                            <article class="col-lg-4 col-md-6 mb-4 product-item" data-category="programming" data-brand="lenovo" data-price="15500000" data-rating="4" data-name="لنوو ThinkPad X1">
                                <div class="card position-relative h-100">
                                    <span class="discount-badge" aria-label="تخفیف ۲۰ درصدی">20%</span>
                                    <div class="card-img-container">
                                        <img src="./لنوو ThinkPad X1.jpg" class="card-img-top" alt="لپ تاپ لنوو ThinkPad X1">
                                    </div>
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title">لنوو ThinkPad X1</h5>
                                        <div class="rating mb-2" aria-label="امتیاز ۴ از ۵">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <span class="text-muted">(4.0)</span>
                                        </div>
                                        <p class="card-text">بهترین لپ تاپ مخصوص برنامه نویسی با وزن سبک و عملکرد قدرتمند</p>
                                        <div class="specs-summary mb-2">
                                            <span class="badge bg-secondary">Core Ultra 7</span>
                                            <span class="badge bg-secondary">32GB RAM</span>
                                            <span class="badge bg-secondary">512GB SSD</span>
                                        </div>
                                        <div class="price mt-auto">
                                            <span class="old-price">۱۹,۳۷۵,۰۰۰ تومان</span>
                                            ۱۵,۵۰۰,۰۰۰ تومان
                                        </div>
                                        <div class="d-flex justify-content-between align-items-center mt-3">
                                            <a href="product-detail.html?id=1" class="btn btn-primary">مشاهده جزئیات</a>
                                            <div>
                                                <button class="btn wishlist-btn" aria-label="افزودن به علاقه‌مندی‌ها" data-product-id="1">
                                                    <i class="far fa-heart"></i>
                                                </button>
                                                <button class="btn cart-btn" aria-label="افزودن به سبد خرید" data-product-id="1" data-product-name="لنوو ThinkPad X1" data-product-price="15500000">
                                                    <i class="fas fa-shopping-cart"></i>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- بخش نظرات -->
                                        <details class="review-section mt-3">
                                            <summary class="review-toggle">نظرات کاربران</summary>
                                            <div class="review-list mt-2">
                                                <div class="review">
                                                    <div class="review-header">
                                                        <span class="review-author">علی رضایی</span>
                                                        <span class="review-date">۱۴۰۲/۰۲/۱۵</span>
                                                    </div>
                                                    <div class="review-rating" aria-label="امتیاز ۴ از ۵">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                    </div>
                                                    <p class="review-text">خیلی خوب و سریع. برای کارهای برنامه‌نویسی عالی است.</p>
                                                </div>
                                                <div class="review">
                                                    <div class="review-header">
                                                        <span class="review-author">مریم احمدی</span>
                                                        <span class="review-date">۱۴۰۲/۰۱/۲۰</span>
                                                    </div>
                                                    <div class="review-rating" aria-label="امتیاز ۵ از ۵">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                    <p class="review-text">عالی! کیفیت ساخت فوق‌العاده و عملکرد بی‌نظیر.</p>
                                                </div>
                                            </div>
                                            
                                            <!-- فرم ثبت نظر -->
                                            <div class="add-review mt-3">
                                                <h6>ثبت نظر شما</h6>
                                                <form class="review-form" data-product-id="1">
                                                    <div class="form-group mb-2">
                                                        <label for="reviewName1" class="form-label">نام شما</label>
                                                        <input type="text" id="reviewName1" class="form-control" required>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewRating1" class="form-label">امتیاز</label>
                                                        <select id="reviewRating1" class="form-control" required>
                                                            <option value="5">5 ستاره</option>
                                                            <option value="4">4 ستاره</option>
                                                            <option value="3">3 ستاره</option>
                                                            <option value="2">2 ستاره</option>
                                                            <option value="1">1 ستاره</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewText1" class="form-label">نظر شما</label>
                                                        <textarea id="reviewText1" class="form-control" rows="3" required></textarea>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">ثبت نظر</button>
                                                </form>
                                            </div>
                                        </details>
                                    </div>
                                </div>
                            </article>
                            
                            <!-- محصول 2: ASUS ROG Strix -->
                            <article class="col-lg-4 col-md-6 mb-4 product-item" data-category="gaming" data-brand="asus" data-price="12200000" data-rating="5" data-name="ایسوس ROG Strix">
                                <div class="card position-relative h-100">
                                    <span class="discount-badge" aria-label="تخفیف ۱۵ درصدی">15%</span>
                                    <div class="card-img-container">
                                        <img src="./rog-strix-g16-rgb-6462090fa32dd7bdc5f78325.webp" class="card-img-top" alt="لپ تاپ ایسوس ROG Strix">
                                    </div>
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title">ایسوس ROG Strix</h5>
                                        <div class="rating mb-2" aria-label="امتیاز ۵ از ۵">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <span class="text-muted">(5.0)</span>
                                        </div>
                                        <p class="card-text">لپ تاپ میان رده با کارایی بالا برای کارهای روزمره و گیمینگ سبک</p>
                                        <div class="specs-summary mb-2">
                                            <span class="badge bg-secondary">Core i9</span>
                                            <span class="badge bg-secondary">32GB RAM</span>
                                            <span class="badge bg-secondary">RTX 4070</span>
                                            <span class="badge bg-secondary">1TB SSD</span>
                                        </div>
                                        <div class="price mt-auto">
                                            <span class="old-price">۱۴,۳۵۰,۰۰۰ تومان</span>
                                            ۱۲,۲۰۰,۰۰۰ تومان
                                        </div>
                                        <div class="d-flex justify-content-between align-items-center mt-3">
                                            <a href="product-detail.html?id=2" class="btn btn-primary">مشاهده جزئیات</a>
                                            <div>
                                                <button class="btn wishlist-btn" aria-label="افزودن به علاقه‌مندی‌ها" data-product-id="2">
                                                    <i class="far fa-heart"></i>
                                                </button>
                                                <button class="btn cart-btn" aria-label="افزودن به سبد خرید" data-product-id="2" data-product-name="ایسوس ROG Strix" data-product-price="12200000">
                                                    <i class="fas fa-shopping-cart"></i>
                                                </button>
                                            </div>
                                        </div>
                                    
                                        <!-- بخش نظرات -->
                                        <details class="review-section mt-3">
                                            <summary class="review-toggle">نظرات کاربران</summary>
                                            <div class="review-list mt-2">
                                                <div class="review">
                                                    <div class="review-header">
                                                        <span class="review-author">سارا محمدی</span>
                                                        <span class="review-date">۱۴۰۲/۰۲/۱۰</span>
                                                    </div>
                                                    <div class="review-rating" aria-label="امتیاز ۵ از ۵">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                    <p class="review-text">برای گیمینگ فوق‌العاده است. گرافیک عالی و خنک‌کننده قدرتمند.</p>
                                                </div>
                                            </div>
                                            
                                            <!-- فرم ثبت نظر -->
                                            <div class="add-review mt-3">
                                                <h6>ثبت نظر شما</h6>
                                                <form class="review-form" data-product-id="2">
                                                    <div class="form-group mb-2">
                                                        <label for="reviewName2" class="form-label">نام شما</label>
                                                        <input type="text" id="reviewName2" class="form-control" required>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewRating2" class="form-label">امتیاز</label>
                                                        <select id="reviewRating2" class="form-control" required>
                                                            <option value="5">5 ستاره</option>
                                                            <option value="4">4 ستاره</option>
                                                            <option value="3">3 ستاره</option>
                                                            <option value="2">2 ستاره</option>
                                                            <option value="1">1 ستاره</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewText2" class="form-label">نظر شما</label>
                                                        <textarea id="reviewText2" class="form-control" rows="3" required></textarea>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">ثبت نظر</button>
                                                </form>
                                            </div>
                                        </details>
                                    </div>
                                </div>
                            </article>
                            
                            <!-- محصول 3: Apple MacBook Pro -->
                            <article class="col-lg-4 col-md-6 mb-4 product-item" data-category="graphic" data-brand="apple" data-price="28500000" data-rating="4.5" data-name="اپل MacBook Pro">
                                <div class="card position-relative h-100">
                                    <div class="card-img-container">
                                        <img src="6e57ca6ee4c9680214d6e0a58c6ad744cc73a90d_1746264720.webp" class="card-img-top" alt="لپ تاپ اپل MacBook Pro">
                                    </div>
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title">اپل MacBook Pro</h5>
                                        <div class="rating mb-2" aria-label="امتیاز ۴.۵ از ۵">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                            <span class="text-muted">(4.5)</span>
                                        </div>
                                        <p class="card-text">لپ تاپ حرفه‌ای با عملکرد فوق‌العاده برای کارهای گرافیکی و طراحی</p>
                                        <div class="specs-summary mb-2">
                                            <span class="badge bg-secondary">Apple M4</span>
                                            <span class="badge bg-secondary">16GB RAM</span>
                                            <span class="badge bg-secondary">256GB SSD</span>
                                        </div>
                                        <div class="price mt-auto">۲۸,۵۰۰,۰۰۰ تومان</div>
                                        <div class="d-flex justify-content-between align-items-center mt-3">
                                            <a href="product-detail.html?id=3" class="btn btn-primary">مشاهده جزئیات</a>
                                            <div>
                                                <button class="btn wishlist-btn" aria-label="افزودن به علاقه‌مندی‌ها" data-product-id="3">
                                                    <i class="far fa-heart"></i>
                                                </button>
                                                <button class="btn cart-btn" aria-label="افزودن به سبد خرید" data-product-id="3" data-product-name="اپل MacBook Pro" data-product-price="28500000">
                                                    <i class="fas fa-shopping-cart"></i>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- بخش نظرات -->
                                        <details class="review-section mt-3">
                                            <summary class="review-toggle">نظرات کاربران</summary>
                                            <div class="review-list mt-2">
                                                <div class="review">
                                                    <div class="review-header">
                                                        <span class="review-author">رضا حسینی</span>
                                                        <span class="review-date">۱۴۰۲/۰۲/۰۵</span>
                                                    </div>
                                                    <div class="review-rating" aria-label="امتیاز ۴ از ۵">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                    </div>
                                                    <p class="review-text">عالی است اما کمی گران. برای کارهای گرافیکی فوق‌العاده است.</p>
                                                </div>
                                            </div>
                                            
                                            <!-- فرم ثبت نظر -->
                                            <div class="add-review mt-3">
                                                <h6>ثبت نظر شما</h6>
                                                <form class="review-form" data-product-id="3">
                                                    <div class="form-group mb-2">
                                                        <label for="reviewName3" class="form-label">نام شما</label>
                                                        <input type="text" id="reviewName3" class="form-control" required>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewRating3" class="form-label">امتیاز</label>
                                                        <select id="reviewRating3" class="form-control" required>
                                                            <option value="5">5 ستاره</option>
                                                            <option value="4">4 ستاره</option>
                                                            <option value="3">3 ستاره</option>
                                                            <option value="2">2 ستاره</option>
                                                            <option value="1">1 ستاره</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewText3" class="form-label">نظر شما</label>
                                                        <textarea id="reviewText3" class="form-control" rows="3" required></textarea>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">ثبت نظر</button>
                                                </form>
                                            </div>
                                        </details>
                                    </div>
                                </div>
                            </article>
                            
                            <!-- محصول 4: HP Pavilion -->
                            <article class="col-lg-4 col-md-6 mb-4 product-item" data-category="student" data-brand="hp" data-price="10800000" data-rating="3" data-name="اچ‌پی Pavilion">
                                <div class="card position-relative h-100">
                                    <span class="discount-badge" aria-label="تخفیف ۱۰ درصدی">10%</span>
                                    <div class="card-img-container">
                                        <img src="./8609b9c65753cdc3c5233637b036d0799b681fef_1753634326.webp" class="card-img-top" alt="لپ تاپ اچ‌پی Pavilion">
                                    </div>
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title">اچ‌پی Pavilion</h5>
                                        <div class="rating mb-2" aria-label="امتیاز ۳ از ۵">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <span class="text-muted">(3.0)</span>
                                        </div>
                                        <p class="card-text">لپ تاپ سبک و قابل حمل با طراحی زیبا و باتری با عمر طولانی</p>
                                        <div class="specs-summary mb-2">
                                            <span class="badge bg-secondary">Core i7</span>
                                            <span class="badge bg-secondary">8GB RAM</span>
                                            <span class="badge bg-secondary">1TB HDD</span>
                                        </div>
                                        <div class="price mt-auto">
                                            <span class="old-price">۱۲,۰۰۰,۰۰۰ تومان</span>
                                            ۱۰,۸۰۰,۰۰۰ تومان
                                        </div>
                                        <div class="d-flex justify-content-between align-items-center mt-3">
                                            <a href="product-detail.html?id=4" class="btn btn-primary">مشاهده جزئیات</a>
                                            <div>
                                                <button class="btn wishlist-btn" aria-label="افزودن به علاقه‌مندی‌ها" data-product-id="4">
                                                    <i class="far fa-heart"></i>
                                                </button>
                                                <button class="btn cart-btn" aria-label="افزودن به سبد خرید" data-product-id="4" data-product-name="اچ‌پی Pavilion" data-product-price="10800000">
                                                    <i class="fas fa-shopping-cart"></i>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- بخش نظرات -->
                                        <details class="review-section mt-3">
                                            <summary class="review-toggle">نظرات کاربران</summary>
                                            <div class="review-list mt-2">
                                                <div class="review">
                                                    <div class="review-header">
                                                        <span class="review-author">مریم کریمی</span>
                                                        <span class="review-date">۱۴۰۲/۰۱/۲۵</span>
                                                    </div>
                                                    <div class="review-rating" aria-label="امتیاز ۳ از ۵">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                    </div>
                                                    <p class="review-text">سبک و خوب برای حمل. باتری آن طولانی است.</p>
                                                </div>
                                            </div>
                  
                                            <!-- فرم ثبت نظر -->
                                            <div class="add-review mt-3">
                                                <h6>ثبت نظر شما</h6>
                                                <form class="review-form" data-product-id="4">
                                                    <div class="form-group mb-2">
                                                        <label for="reviewName4" class="form-label">نام شما</label>
                                                        <input type="text" id="reviewName4" class="form-control" required>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewRating4" class="form-label">امتیاز</label>
                                                        <select id="reviewRating4" class="form-control" required>
                                                            <option value="5">5 ستاره</option>
                                                            <option value="4">4 ستاره</option>
                                                            <option value="3">3 ستاره</option>
                                                            <option value="2">2 ستاره</option>
                                                            <option value="1">1 ستاره</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewText4" class="form-label">نظر شما</label>
                                                        <textarea id="reviewText4" class="form-control" rows="3" required></textarea>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">ثبت نظر</button>
                                                </form>
                                            </div>
                                        </details>
                                    </div>
                                </div>
                            </article>
                            
                            <!-- محصول 5: Dell XPS 13 -->
                            <article class="col-lg-4 col-md-6 mb-4 product-item" data-category="office" data-brand="dell" data-price="16700000" data-rating="5" data-name="دل XPS 13">
                                <div class="card position-relative h-100">
                                    <div class="card-img-container">
                                        <img src="./c1f5860938d7dc087df2dddc1dccf07aa63f1d02_1694265753.webp" class="card-img-top" alt="لپ تاپ دل XPS 13">
                                    </div>
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title">دل XPS 13</h5>
                                        <div class="rating mb-2" aria-label="امتیاز ۵ از ۵">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <span class="text-muted">(5.0)</span>
                                        </div>
                                        <p class="card-text">لپ تاپ اولترابوک با صفحه نمایش لمسی و عملکرد فوق‌العاده</p>
                                        <div class="specs-summary mb-2">
                                            <span class="badge bg-secondary">Core i7</span>
                                            <span class="badge bg-secondary">16GB RAM</span>
                                            <span class="badge bg-secondary">512GB SSD</span>
                                        </div>
                                        <div class="price mt-auto">۱۶,۷۰۰,۰۰۰ تومان</div>
                                        <div class="d-flex justify-content-between align-items-center mt-3">
                                            <a href="product-detail.html?id=5" class="btn btn-primary">مشاهده جزئیات</a>
                                            <div>
                                                <button class="btn wishlist-btn" aria-label="افزودن به علاقه‌مندی‌ها" data-product-id="5">
                                                    <i class="far fa-heart"></i>
                                                </button>
                                                <button class="btn cart-btn" aria-label="افزودن به سبد خرید" data-product-id="5" data-product-name="دل XPS 13" data-product-price="16700000">
                                                    <i class="fas fa-shopping-cart"></i>
                                                </button>
                                            </div>
                                        </div>
                                         
                                        <!-- بخش نظرات -->
                                        <details class="review-section mt-3">
                                            <summary class="review-toggle">نظرات کاربران</summary>
                                            <div class="review-list mt-2">
                                                <div class="review">
                                                    <div class="review-header">
                                                        <span class="review-author">علی اکبری</span>
                                                        <span class="review-date">۱۴۰۲/۰۱/۲۰</span>
                                                    </div>
                                                    <div class="review-rating" aria-label="امتیاز ۵ از ۵">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                    <p class="review-text">فوق‌العاده! طراحی زیبا و عملکرد عالی. صفحه نمایش بی‌نظیر است.</p>
                                                </div>
                                            </div>
                                         
                                            <!-- فرم ثبت نظر -->
                                            <div class="add-review mt-3">
                                                <h6>ثبت نظر شما</h6>
                                                <form class="review-form" data-product-id="5">
                                                    <div class="form-group mb-2">
                                                        <label for="reviewName5" class="form-label">نام شما</label>
                                                        <input type="text" id="reviewName5" class="form-control" required>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewRating5" class="form-label">امتیاز</label>
                                                        <select id="reviewRating5" class="form-control" required>
                                                            <option value="5">5 ستاره</option>
                                                            <option value="4">4 ستاره</option>
                                                            <option value="3">3 ستاره</option>
                                                            <option value="2">2 ستاره</option>
                                                            <option value="1">1 ستاره</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewText5" class="form-label">نظر شما</label>
                                                        <textarea id="reviewText5" class="form-control" rows="3" required></textarea>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">ثبت نظر</button>
                                                </form>
                                            </div>
                                        </details>
                                    </div>
                                </div>
                            </article>
                            
                            <!-- محصول 6: MSI Creator -->
                            <article class="col-lg-4 col-md-6 mb-4 product-item" data-category="graphic" data-brand="msi" data-price="19900000" data-rating="4" data-name="ام‌اس‌آی Creator">
                                <div class="card position-relative h-100">
                                    <span class="discount-badge" aria-label="تخفیف ۵ درصدی">5%</span>
                                    <div class="card-img-container">
                                        <img src="./e4eb8ea1c800f1454184dcca89571a0ff5336fee_1756111783.webp" class="card-img-top" alt="لپ تاپ ام‌اس‌آی Creator">
                                    </div>
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title">ام‌اس‌آی Creator</h5>
                                        <div class="rating mb-2" aria-label="امتیاز ۴ از ۵">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <span class="text-muted">(4.0)</span>
                                        </div>
                                        <p class="card-text">لپ تاپ حرفه‌ای برای گرافیست‌ها و طراحان با رنگ‌بندی دقیق</p>
                                        <div class="specs-summary mb-2">
                                            <span class="badge bg-secondary">Core i7</span>
                                            <span class="badge bg-secondary">16GB RAM</span>
                                            <span class="badge bg-secondary">RTX 3060</span>
                                            <span class="badge bg-secondary">1TB SSD</span>
                                        </div>
                                        <div class="price mt-auto">
                                            <span class="old-price">۲۰,۹۴۷,۰۰۰ تومان</span>
                                            ۱۹,۹۰۰,۰۰۰ تومان
                                        </div>
                                        <div class="d-flex justify-content-between align-items-center mt-3">
                                            <a href="product-detail.html?id=6" class="btn btn-primary">مشاهده جزئیات</a>
                                            <div>
                                                <button class="btn wishlist-btn" aria-label="افزودن به علاقه‌مندی‌ها" data-product-id="6">
                                                    <i class="far fa-heart"></i>
                                                </button>
                                                <button class="btn cart-btn" aria-label="افزودن به سبد خرید" data-product-id="6" data-product-name="ام‌اس‌آی Creator" data-product-price="19900000">
                                                    <i class="fas fa-shopping-cart"></i>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- بخش نظرات -->
                                        <details class="review-section mt-3">
                                            <summary class="review-toggle">نظرات کاربران</summary>
                                            <div class="review-list mt-2">
                                                <div class="review">
                                                    <div class="review-header">
                                                        <span class="review-author">سارا رضایی</span>
                                                        <span class="review-date">۱۴۰۲/۰۱/۱۵</span>
                                                    </div>
                                                    <div class="review-rating" aria-label="امتیاز ۴ از ۵">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                    </div>
                                                    <p class="review-text">برای کارهای طراحی عالی است. رنگ‌ها دقیق و پردازنده قدرتمند.</p>
                                                </div>
                                            </div>
                                         
                                            <!-- فرم ثبت نظر -->
                                            <div class="add-review mt-3">
                                                <h6>ثبت نظر شما</h6>
                                                <form class="review-form" data-product-id="6">
                                                    <div class="form-group mb-2">
                                                        <label for="reviewName6" class="form-label">نام شما</label>
                                                        <input type="text" id="reviewName6" class="form-control" required>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewRating6" class="form-label">امتیاز</label>
                                                        <select id="reviewRating6" class="form-control" required>
                                                            <option value="5">5 ستاره</option>
                                                            <option value="4">4 ستاره</option>
                                                            <option value="3">3 ستاره</option>
                                                            <option value="2">2 ستاره</option>
                                                            <option value="1">1 ستاره</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group mb-2">
                                                        <label for="reviewText6" class="form-label">نظر شما</label>
                                                        <textarea id="reviewText6" class="form-control" rows="3" required></textarea>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">ثبت نظر</button>
                                                </form>
                                            </div>
                                        </details>
                                    </div>
                                </div>
                            </article>
                        </div>
                        
                        <!-- صفحه‌بندی -->
                        <nav aria-label="صفحه‌بندی محصولات" class="mt-4">
                            <ul class="pagination justify-content-center">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">قبلی</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">بعدی</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- بخش ویژگی‌ها -->
        <section class="features-section py-5 bg-light" aria-label="ویژگی‌های فروشگاه">
            <div class="container">
                <h2 class="text-center mb-5">چرا فروشگاه لپ‌تاپ Mahdi Arshi را انتخاب کنید؟</h2>
                <div class="row">
                    <div class="col-md-3 col-sm-6 mb-4">
                        <div class="feature-box text-center">
                            <i class="fas fa-shipping-fast fa-3x mb-3 text-primary"></i>
                            <h4>ارسال سریع</h4>
                            <p>تحویل فوری در سراسر کشور</p>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-4">
                        <div class="feature-box text-center">
                            <i class="fas fa-shield-alt fa-3x mb-3 text-primary"></i>
                            <h4>ضمانت اصالت</h4>
                            <p>کالاها با ضمانت اصالت و سلامت فیزیکی</p>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-4">
                        <div class="feature-box text-center">
                            <i class="fas fa-undo-alt fa-3x mb-3 text-primary"></i>
                            <h4>بازگشت کالا</h4>
                            <p>امکان بازگشت کالا تا ۷ روز</p>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-4">
                        <div class="feature-box text-center">
                            <i class="fas fa-headset fa-3x mb-3 text-primary"></i>
                            <h4>پشتیبانی ۲۴/۷</h4>
                            <p>پشتیبانی تلفنی در تمام ساعات شبانه‌روز</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- فوتر -->
    <footer class="footer bg-dark text-light py-5" id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <h5 class="mb-3">فروشگاه لپ‌تاپ Mahdi Arshi</h5>
                    <p>ما با ارائه بهترین و باکیفیت‌ترین لپ‌تاپ‌ها، تجربه‌ی خریدی لذت‌بخش را برای شما فراهم می‌کنیم.</p>
                    <div class="social-icons mt-3">
                        <a href="#" class="text-light me-3" aria-label="فیسبوک">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-light me-3" aria-label="توییتر">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-light me-3" aria-label="اینستاگرام">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="text-light me-3" aria-label="لینکدین">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5 class="mb-3">لینک‌های مفید</h5>
                    <ul class="footer-links list-unstyled">
                        <li class="mb-2"><a href="about.html" class="text-light">درباره ما</a></li>
                        <li class="mb-2"><a href="contact.html" class="text-light">تماس با ما</a></li>
                        <li class="mb-2"><a href="#" class="text-light">وبلاگ</a></li>
                        <li class="mb-2"><a href="#" class="text-light">سوالات متداول</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5 class="mb-3">خدمات مشتریان</h5>
                    <ul class="footer-links list-unstyled">
                        <li class="mb-2"><a href="#" class="text-light">راهنمای خرید</a></li>
                        <li class="mb-2"><a href="#" class="text-light">ضمانت نامه</a></li>
                        <li class="mb-2"><a href="#" class="text-light">خدمات پس از فروش</a></li>
                        <li class="mb-2"><a href="#" class="text-light">پیگیری سفارش</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <h5 class="mb-3">اطلاعات تماس</h5>
                    <address>
                        <p><i class="fas fa-map-marker-alt me-2"></i>گلدشت خیابان آیت ا... ایزدی</p>
                        <p><i class="fas fa-phone me-2"></i> تلفن: به زودی</p>
                        <p><i class="fas fa-envelope me-2"></i> ایمیل: mahdiarshi.2005@gmail.com</p>
                    </address>
                    <form class="mt-3" id="newsletterForm">
                        <div class="input-group">
                            <label for="newsletterEmail" class="visually-hidden">ایمیل خود را وارد کنید</label>
                            <input type="email" class="form-control" id="newsletterEmail" placeholder="ایمیل خود را وارد کنید" required>
                            <button class="btn btn-primary" type="submit">عضویت</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="copyright text-center mt-4 pt-4 border-top border-secondary">
                <p>&copy; ۱۴۰۲ فروشگاه لپ‌تاپ Mahdi Arshi. تمامی حقوق محفوظ است.</p>
            </div>
        </div>
    </footer>

    <!-- مودال احراز هویت -->
    <div class="modal fade" id="authModal" tabindex="-1" aria-labelledby="authModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <ul class="nav nav-tabs card-header-tabs" id="authTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" 
                                    type="button" role="tab" aria-controls="login" aria-selected="true">ورود</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" 
                                    type="button" role="tab" aria-controls="register" aria-selected="false">ثبت‌نام</button>
                        </li>
                    </ul>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
                </div>
                <div class="modal-body">
                    <div class="tab-content" id="authTabContent">
                        <!-- تب ورود -->
                        <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
                            <form id="loginForm" novalidate>
                                <div class="form-group mb-3">
                                    <label for="loginEmail">ایمیل یا نام کاربری</label>
                                    <input type="text" class="form-control" id="loginEmail" required>
                                    <div class="invalid-feedback">لطفاً ایمیل یا نام کاربری خود را وارد کنید</div>
                                </div>
                                <div class="form-group mb-3 password-input">
                                    <label for="loginPassword">رمز عبور</label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="loginPassword" required>
                                        <button class="btn btn-outline-secondary" type="button" id="toggleLoginPassword" aria-label="نمایش رمز عبور">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <div class="invalid-feedback">لطفاً رمز عبور خود را وارد کنید</div>
                                </div>
                                <div class="form-group form-check mb-3">
                                    <input type="checkbox" class="form-check-input" id="rememberMe">
                                    <label class="form-check-label" for="rememberMe">مرا به خاطر بسپار</label>
                                </div>
                                <button type="submit" class="btn btn-primary w-100" id="loginBtn">
                                    <span class="btn-text">ورود</span>
                                </button>
                                <div class="form-footer mt-3 text-center">
                                    <a href="#" class="forgot-password">رمز عبور را فراموش کرده‌اید؟</a>
                                </div>
                            </form>
                        </div>
                        
                        <!-- تب ثبت‌نام -->
                        <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
                            <form id="registerForm" novalidate>
                                <div class="form-group mb-3">
                                    <label for="registerName">نام و نام خانوادگی</label>
                                    <input type="text" class="form-control" id="registerName" required>
                                    <div class="invalid-feedback">لطفاً نام و نام خانوادگی خود را وارد کنید</div>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="registerEmail">ایمیل</label>
                                    <input type="email" class="form-control" id="registerEmail" required>
                                    <div class="invalid-feedback">لطفاً یک ایمیل معتبر وارد کنید</div>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="registerUsername">نام کاربری</label>
                                    <input type="text" class="form-control" id="registerUsername" required>
                                    <div class="invalid-feedback">لطفاً نام کاربری خود را وارد کنید</div>
                                </div>
                                <div class="form-group mb-3 password-input">
                                    <label for="registerPassword">رمز عبور</label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="registerPassword" required minlength="8">
                                        <button class="btn btn-outline-secondary" type="button" id="toggleRegisterPassword" aria-label="نمایش رمز عبور">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <div class="invalid-feedback">رمز عبور باید حداقل ۸ کاراکتر باشد</div>
                                </div>
                                <div class="form-group mb-3 password-input">
                                    <label for="confirmPassword">تکرار رمز عبور</label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="confirmPassword" required>
                                        <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPassword" aria-label="نمایش رمز عبور">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <div class="invalid-feedback">رمز عبور و تکرار آن یکسان نیست</div>
                                </div>
                                <div class="form-group form-check mb-3">
                                    <input type="checkbox" class="form-check-input" id="agreeTerms" required>
                                    <label class="form-check-label" for="agreeTerms">با <a href="#">قوانین و مقررات</a> موافقم</label>
                                    <div class="invalid-feedback">باید با قوانین و مقررات موافق باشید</div>
                                </div>
                                <button type="submit" class="btn btn-primary w-100" id="registerBtn">
                                    <span class="btn-text">ثبت‌نام</span>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- مودال سبد خرید -->
    <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel">سبد خرید شما</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
                </div>
                <div class="modal-body">
                    <div id="cartItems">
                        <!-- آیتم‌های سبد خرید به صورت پویا اضافه خواهند شد -->
                        <div class="empty-cart">
                            <i class="fas fa-shopping-cart"></i>
                            <p>سبد خرید شما خالی است</p>
                        </div>
                    </div>
                    <div class="cart-total d-none">
                        <span>جمع کل:</span>
                        <span id="cartTotal">0 تومان</span>
                    </div>
                </div>
                <div class="modal-footer d-none" id="cartFooter">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ادامه خرید</button>
                    <button type="button" class="btn btn-primary" id="checkoutBtn">تکمیل خرید</button>
                </div>
            </div>
        </div>
    </div>

    <!-- مودال تکمیل خرید -->
    <div class="modal fade" id="checkoutModal" tabindex="-1" aria-labelledby="checkoutModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="checkoutModalLabel">تکمیل خرید</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
                </div>
                <div class="modal-body">
                    <!-- مراحل خرید -->
                    <div class="checkout-steps mb-4">
                        <div class="steps d-flex justify-content-between">
                            <div class="step active" data-step="1">
                                <div class="step-circle">1</div>
                                <div class="step-title">اطلاعات شخصی</div>
                            </div>
                            <div class="step" data-step="2">
                                <div class="step-circle">2</div>
                                <div class="step-title">نحوه ارسال</div>
                            </div>
                            <div class="step" data-step="3">
                                <div class="step-circle">3</div>
                                <div class="step-title">روش پرداخت</div>
                            </div>
                            <div class="step" data-step="4">
                                <div class="step-circle">4</div>
                                <div class="step-title">تایید نهایی</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- محتوای مراحل -->
                    <div class="checkout-content">
                        <!-- مرحله 1: اطلاعات شخصی -->
                        <div class="checkout-step active" id="step1">
                            <h6 class="mb-3">لطفا اطلاعات شخصی خود را وارد کنید</h6>
                            <form id="personalInfoForm">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="firstName" class="form-label">نام</label>
                                        <input type="text" class="form-control" id="firstName" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="lastName" class="form-label">نام خانوادگی</label>
                                        <input type="text" class="form-control" id="lastName" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="phone" class="form-label">شماره تماس</label>
                                        <input type="tel" class="form-control" id="phone" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="email" class="form-label">ایمیل</label>
                                        <input type="email" class="form-control" id="email" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="address" class="form-label">آدرس کامل</label>
                                    <textarea class="form-control" id="address" rows="3" required></textarea>
                                </div>
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label for="city" class="form-label">شهر</label>
                                        <input type="text" class="form-control" id="city" required>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label for="province" class="form-label">استان</label>
                                        <input type="text" class="form-control" id="province" required>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label for="postalCode" class="form-label">کد پستی</label>
                                        <input type="text" class="form-control" id="postalCode" required>
                                    </div>
                                </div>
                                <div class="form-check mb-3">
                                    <input type="checkbox" class="form-check-input" id="saveInfo">
                                    <label class="form-check-label" for="saveInfo">ذخیره این اطلاعات برای دفعات بعد</label>
                                </div>
                            </form>
                        </div>
                        
                        <!-- مرحله 2: نحوه ارسال -->
                        <div class="checkout-step" id="step2">
                            <h6 class="mb-3">روش ارسال را انتخاب کنید</h6>
                            <div class="shipping-methods">
                                <div class="shipping-option active">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="shippingMethod" id="shipping1" value="express" checked>
                                        <label class="form-check-label" for="shipping1">
                                            <span class="shipping-title">پست پیشتاز</span>
                                            <span class="shipping-desc">تحویل ۲-۳ روز کاری</span>
                                            <span class="shipping-price">رایگان</span>
                                        </label>
                                    </div>
                                </div>
                                <div class="shipping-option">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="shippingMethod" id="shipping2" value="standard">
                                        <label class="form-check-label" for="shipping2">
                                            <span class="shipping-title">پست سفارشی</span>
                                            <span class="shipping-desc">تحویل ۴-۷ روز کاری</span>
                                            <span class="shipping-price">۱۵,۰۰۰ تومان</span>
                                        </label>
                                    </div>
                                </div>
                                <div class="shipping-option">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="shippingMethod" id="shipping3" value="pickup">
                                        <label class="form-check-label" for="shipping3">
                                            <span class="shipping-title">دریافت حضوری</span>
                                            <span class="shipping-desc">از فروشگاه اصلی</span>
                                            <span class="shipping-price">رایگان</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- مرحله 3: روش پرداخت -->
                        <div class="checkout-step" id="step3">
                            <h6 class="mb-3">روش پرداخت را انتخاب کنید</h6>
                            <div class="payment-methods">
                                <div class="payment-option active">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="paymentMethod" id="payment1" value="online" checked>
                                        <label class="form-check-label" for="payment1">
                                            <i class="fas fa-credit-card fa-lg me-2"></i>
                                            <span class="payment-title">پرداخت آنلاین</span>
                                            <span class="payment-desc">پرداخت امن از طریق درگاه بانکی</span>
                                        </label>
                                    </div>
                                </div>
                                <div class="payment-option">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="paymentMethod" id="payment2" value="cash">
                                        <label class="form-check-label" for="payment2">
                                            <i class="fas fa-money-bill-wave fa-lg me-2"></i>
                                            <span class="payment-title">پرداخت در محل</span>
                                            <span class="payment-desc">پرداخت نقدی هنگام تحویل کالا</span>
                                        </label>
                                    </div>
                                </div>
                                <div class="payment-option">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="paymentMethod" id="payment3" value="bank">
                                        <label class="form-check-label" for="payment3">
                                            <i class="fas fa-university fa-lg me-2"></i>
                                            <span class="payment-title">واریز بانکی</span>
                                            <span class="payment-desc">واریز به حساب بانکی فروشگاه</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- اطلاعات کارت بانکی (فقط برای پرداخت آنلاین) -->
                            <div class="card-details mt-4" id="cardDetails">
                                <h6 class="mb-3">اطلاعات کارت بانکی</h6>
                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        <label for="cardNumber" class="form-label">شماره کارت</label>
                                        <input type="text" class="form-control" id="cardNumber" placeholder="**** **** **** ****" maxlength="19">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="expiryDate" class="form-label">تاریخ انقضا</label>
                                        <input type="text" class="form-control" id="expiryDate" placeholder="MM/YY" maxlength="5">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="cvv" class="form-label">CVV</label>
                                        <input type="text" class="form-control" id="cvv" placeholder="***" maxlength="3">
                                    </div>
                                </div>
                                <div class="form-check mb-3">
                                    <input type="checkbox" class="form-check-input" id="saveCard">
                                    <label class="form-check-label" for="saveCard">ذخیره اطلاعات کارت برای خریدهای بعدی</label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- مرحله 4: تایید نهایی -->
                        <div class="checkout-step" id="step4">
                            <h6 class="mb-3">خلاصه سفارش</h6>
                            <div class="order-summary mb-4">
                                <div class="order-items" id="orderItems">
                                    <!-- آیتم‌های سفارش به صورت پویا اضافه می‌شوند -->
                                </div>
                                <div class="order-totals mt-3">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>جمع کالاها:</span>
                                        <span id="orderSubtotal">0 تومان</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>هزینه ارسال:</span>
                                        <span id="orderShipping">0 تومان</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>مالیات:</span>
                                        <span id="orderTax">0 تومان</span>
                                    </div>
                                    <div class="d-flex justify-content-between fw-bold fs-5 mt-3 pt-3 border-top">
                                        <span>مبلغ قابل پرداخت:</span>
                                        <span id="orderTotal">0 تومان</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="order-info mb-4">
                                <h6 class="mb-2">اطلاعات تحویل</h6>
                                <div id="deliveryInfo">
                                    <!-- اطلاعات تحویل به صورت پویا اضافه می‌شود -->
                                </div>
                            </div>
                            
                            <div class="terms-agreement">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="agreeTermsCheckout" required>
                                    <label class="form-check-label" for="agreeTermsCheckout">
                                        با <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">قوانین و شرایط</a> فروشگاه موافقم
                                    </label>
                                    <div class="invalid-feedback">لطفا با قوانین موافقت کنید</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="prevStepBtn" style="display: none;">مرحله قبل</button>
                    <button type="button" class="btn btn-primary" id="nextStepBtn">مرحله بعد</button>
                    <button type="button" class="btn btn-success" id="confirmOrderBtn" style="display: none;">تایید و پرداخت</button>
                </div>
            </div>
        </div>
    </div>

    <!-- مودال شرایط و قوانین -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel">قوانین و شرایط فروشگاه</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
                </div>
                <div class="modal-body">
                    <div class="terms-content">
                        <h6>شرایط عمومی</h6>
                        <p>1. تمامی کالاها و خدمات ارائه شده در این فروشگاه، دارای گارانتی اصالت کالا می‌باشند.</p>
                        <p>2. قیمت‌های درج شده برای کالاها به تومان می‌باشد.</p>
                        <p>3. فروشگاه اینترنتی لپ‌تاپ Mahdi Arshi مجاز است در صورت عدم موجودی کالا، سفارش مشتری را لغو نماید.</p>
                        
                        <h6 class="mt-4">شرایط ارسال</h6>
                        <p>1. ارسال کالا پس از تایید پرداخت انجام می‌شود.</p>
                        <p>2. زمان تحویل کالا بسته به شهر مقصد و روش ارسال انتخاب شده متفاوت است.</p>
                        <p>3. هزینه ارسال بر عهده خریدار است مگر در مواردی که فروشگاه ارسال رایگان اعلام کرده باشد.</p>
                        
                        <h6 class="mt-4">شرایط بازگشت کالا</h6>
                        <p>1. امکان بازگشت کالا تا ۷ روز پس از تحویل وجود دارد.</p>
                        <p>2. کالای بازگشتی باید در شرایط اولیه و بدون هیچگونه آسیبی باشد.</p>
                        <p>3. هزینه بازگشت کالا در صورت عدم رضایت از کیفیت محصول بر عهده فروشگاه می‌باشد.</p>
                        
                        <h6 class="mt-4">حریم خصوصی</h6>
                        <p>1. تمامی اطلاعات شخصی شما نزد ما محفوظ می‌ماند.</p>
                        <p>2. ما اطلاعات شما را به شخص ثالثی نمی‌فروشیم یا اجاره نمی‌دهیم.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">بستن</button>
                </div>
            </div>
        </div>
    </div>

    <!-- مودال موفقیت آمیز بودن خرید -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
                </div>
                <div class="modal-body text-center py-4">
                    <div class="success-icon mb-4">
                        <i class="fas fa-check-circle fa-5x text-success"></i>
                    </div>
                    <h4 class="mb-3">سفارش شما با موفقیت ثبت شد!</h4>
                    <p class="text-muted mb-4" id="orderNumber">شماره سفارش: <span id="orderId">ORD-<span id="orderIdValue"></span></span></p>
                    <p class="mb-4">جزئیات سفارش به ایمیل شما ارسال شد. شما می‌توانید وضعیت سفارش خود را از طریق پنل کاربری پیگیری کنید.</p>
                    <div class="d-grid gap-2">
                        <button type="button" class="btn btn-primary" id="trackOrderBtn">پیگیری سفارش</button>
                        <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">بازگشت به فروشگاه</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- کانتینر توست -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3"></div>

    <!-- اسکریپت‌ها -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- فایل اسکریپت سفارشی -->
    <script>
        // کد جاوااسکریپت برای عملکردهای سایت
        document.addEventListener('DOMContentLoaded', function() {
            
            // مدیریت وضعیت کاربر
            let isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;

            // به‌روزرسانی وضعیت کاربر در صفحه
            function updateUserStatus() {
                const userSection = document.getElementById('userSection');
                const authButtons = document.getElementById('authButtons');
                const userName = document.getElementById('userName');
                
                if (isLoggedIn && currentUser) {
                    // نمایش بخش پروفایل کاربر
                    userSection.style.display = 'block';
                    authButtons.style.display = 'none';
                    
                    // تنظیم نام کاربر
                    if (currentUser.name) {
                        userName.textContent = currentUser.name;
                    }
                } else {
                    // نمایش دکمه‌های ورود/ثبت‌نام
                    userSection.style.display = 'none';
                    authButtons.style.display = 'flex';
                }
            }

            // تابع ورود کاربر
            function loginUser(userData) {
                isLoggedIn = true;
                currentUser = {
                    id: Date.now(),
                    name: userData.name || 'کاربر',
                    email: userData.email,
                    username: userData.username,
                    joinDate: new Date().toISOString()
                };
                
                localStorage.setItem('isLoggedIn', 'true');
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateUserStatus();
                
                showToast('ورود موفقیت‌آمیز بود! خوش آمدید ' + currentUser.name, 'success');
            }

            // تابع خروج کاربر
            function logoutUser() {
                isLoggedIn = false;
                currentUser = null;
                
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('currentUser');
                updateUserStatus();
                
                showToast('با موفقیت از حساب کاربری خارج شدید', 'info');
            }

            // رویداد دکمه خروج
            document.getElementById('logoutBtn')?.addEventListener('click', function() {
                logoutUser();
            });

            // تنظیم تب مناسب در مودال احراز هویت
            document.querySelectorAll('.login-btn, .register-btn').forEach(button => {
                button.addEventListener('click', function() {
                    if (this.classList.contains('login-btn')) {
                        document.querySelector('#login-tab').click();
                    } else if (this.classList.contains('register-btn')) {
                        document.querySelector('#register-tab').click();
                    }
                });
            });

            // بارگذاری اولیه وضعیت کاربر
            updateUserStatus();
            
            // مدیریت سبد خرید
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartCount = document.getElementById('cartCount');
            const cartModal = document.getElementById('cartModal');
            
            // به‌روزرسانی تعداد سبد خرید
            function updateCartCount() {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCount.textContent = totalItems;
                cartCount.style.display = totalItems > 0 ? 'flex' : 'none';
            }
            
            // افزودن محصول به سبد خرید
            document.querySelectorAll('.cart-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = this.getAttribute('data-product-id');
                    const productName = this.getAttribute('data-product-name');
                    const productPrice = parseInt(this.getAttribute('data-product-price'));
                    
                    // بررسی وجود محصول در سبد
                    const existingItem = cart.find(item => item.id === productId);
                    
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({
                            id: productId,
                            name: productName,
                            price: productPrice,
                            quantity: 1,
                            image: this.closest('.product-item').querySelector('img').src
                        });
                    }
                    
                    // ذخیره در localStorage
                    localStorage.setItem('cart', JSON.stringify(cart));
                    
                    // به‌روزرسانی تعداد
                    updateCartCount();
                    
                    // نمایش پیام موفقیت
                    showToast('محصول به سبد خرید اضافه شد', 'success');
                });
            });
            
            // نمایش سبد خرید
            cartModal.addEventListener('show.bs.modal', function() {
                renderCart();
            });
            
            // رندر سبد خرید
            function renderCart() {
                const cartItemsContainer = document.getElementById('cartItems');
                const cartTotalElement = document.getElementById('cartTotal');
                const cartFooter = document.getElementById('cartFooter');
                const cartTotalContainer = document.querySelector('.cart-total');
                
                if (cart.length === 0) {
                    cartItemsContainer.innerHTML = `
                        <div class="empty-cart">
                            <i class="fas fa-shopping-cart"></i>
                            <p>سبد خرید شما خالی است</p>
                        </div>
                    `;
                    cartFooter.classList.add('d-none');
                    cartTotalContainer.classList.add('d-none');
                    return;
                }
                
                let cartHTML = '';
                let total = 0;
                
                cart.forEach((item, index) => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    
                    cartHTML += `
                        <div class="cart-item">
                            <img src="${item.image}" alt="${item.name}">
                            <div class="cart-item-details">
                                <div class="cart-item-title">${item.name}</div>
                                <div class="cart-item-price">${formatPrice(item.price)} تومان</div>
                                <div class="cart-item-quantity">
                                    <button class="quantity-btn decrease-quantity" data-index="${index}">-</button>
                                    <span class="quantity-value">${item.quantity}</span>
                                    <button class="quantity-btn increase-quantity" data-index="${index}">+</button>
                                    <button class="btn btn-sm btn-danger ms-3 remove-item" data-index="${index}">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="mt-2 fw-bold">مجموع: ${formatPrice(itemTotal)} تومان</div>
                            </div>
                        </div>
                    `;
                });
                
                cartItemsContainer.innerHTML = cartHTML;
                cartTotalElement.textContent = `${formatPrice(total)} تومان`;
                cartFooter.classList.remove('d-none');
                cartTotalContainer.classList.remove('d-none');
                
                // اضافه کردن رویدادها به دکمه‌های کمیت
                document.querySelectorAll('.decrease-quantity').forEach(button => {
                    button.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        if (cart[index].quantity > 1) {
                            cart[index].quantity -= 1;
                        } else {
                            cart.splice(index, 1);
                        }
                        localStorage.setItem('cart', JSON.stringify(cart));
                        updateCartCount();
                        renderCart();
                    });
                });
                
                document.querySelectorAll('.increase-quantity').forEach(button => {
                    button.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        cart[index].quantity += 1;
                        localStorage.setItem('cart', JSON.stringify(cart));
                        updateCartCount();
                        renderCart();
                    });
                });
                
                document.querySelectorAll('.remove-item').forEach(button => {
                    button.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        cart.splice(index, 1);
                        localStorage.setItem('cart', JSON.stringify(cart));
                        updateCartCount();
                        renderCart();
                        showToast('محصول از سبد خرید حذف شد', 'info');
                    });
                });
            }
            
            // فرمت قیمت
            function formatPrice(price) {
                return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }
            
            // نمایش توست
            function showToast(message, type = 'info') {
                const toastContainer = document.querySelector('.toast-container');
                const toastId = 'toast-' + Date.now();
                
                const toastHTML = `
                    <div id="${toastId}" class="toast align-items-center text-bg-${type} border-0" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="d-flex">
                            <div class="toast-body">
                                ${message}
                            </div>
                            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="بستن"></button>
                        </div>
                    </div>
                `;
                
                toastContainer.insertAdjacentHTML('beforeend', toastHTML);
                
                const toastElement = document.getElementById(toastId);
                const toast = new bootstrap.Toast(toastElement, {
                    delay: 3000
                });
                toast.show();
                
                // حذف توست پس از بسته شدن
                toastElement.addEventListener('hidden.bs.toast', function() {
                    this.remove();
                });
            }
            
            // بخش تکمیل خرید
            let currentStep = 1;
            const totalSteps = 4;
            let checkoutData = {
                personalInfo: {},
                shippingMethod: 'express',
                paymentMethod: 'online',
                orderSummary: {}
            };
            
            // دکمه‌های کنترل مراحل
            const prevStepBtn = document.getElementById('prevStepBtn');
            const nextStepBtn = document.getElementById('nextStepBtn');
            const confirmOrderBtn = document.getElementById('confirmOrderBtn');
            const checkoutModal = document.getElementById('checkoutModal');
            
            // تنظیم شماره سفارش تصادفی
            function generateOrderId() {
                const timestamp = Date.now().toString().slice(-6);
                const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
                return `${timestamp}${random}`;
            }
            
            // تغییر مرحله
            function changeStep(step) {
                // غیرفعال کردن مرحله فعلی
                document.querySelector(`#step${currentStep}`).classList.remove('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
                
                // فعال کردن مرحله جدید
                currentStep = step;
                document.querySelector(`#step${currentStep}`).classList.add('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
                
                // به‌روزرسانی مراحل قبلی به حالت تکمیل شده
                for (let i = 1; i < currentStep; i++) {
                    document.querySelector(`.step[data-step="${i}"]`).classList.add('completed');
                }
                
                // مدیریت نمایش دکمه‌ها
                if (currentStep === 1) {
                    prevStepBtn.style.display = 'none';
                    nextStepBtn.style.display = 'block';
                    confirmOrderBtn.style.display = 'none';
                    nextStepBtn.textContent = 'مرحله بعد';
                } else if (currentStep === totalSteps) {
                    prevStepBtn.style.display = 'block';
                    nextStepBtn.style.display = 'none';
                    confirmOrderBtn.style.display = 'block';
                    updateOrderSummary();
                } else {
                    prevStepBtn.style.display = 'block';
                    nextStepBtn.style.display = 'block';
                    confirmOrderBtn.style.display = 'none';
                    nextStepBtn.textContent = 'مرحله بعد';
                }
            }
            
            // رویداد دکمه مرحله بعد
            nextStepBtn.addEventListener('click', function() {
                // اعتبارسنجی فرم مرحله فعلی
                if (currentStep === 1) {
                    if (!validatePersonalInfo()) {
                        return;
                    }
                    savePersonalInfo();
                } else if (currentStep === 2) {
                    saveShippingMethod();
                } else if (currentStep === 3) {
                    if (!validatePaymentInfo()) {
                        return;
                    }
                    savePaymentMethod();
                }
                
                // رفتن به مرحله بعد
                if (currentStep < totalSteps) {
                    changeStep(currentStep + 1);
                }
            });
            
            // رویداد دکمه مرحله قبل
            prevStepBtn.addEventListener('click', function() {
                if (currentStep > 1) {
                    changeStep(currentStep - 1);
                }
            });
            
            // اعتبارسنجی اطلاعات شخصی
            function validatePersonalInfo() {
                const form = document.getElementById('personalInfoForm');
                let isValid = true;
                
                // بررسی فیلدهای ضروری
                const requiredFields = ['firstName', 'lastName', 'phone', 'email', 'address', 'city', 'province', 'postalCode'];
                
                requiredFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    if (!field.value.trim()) {
                        field.classList.add('is-invalid');
                        isValid = false;
                    } else {
                        field.classList.remove('is-invalid');
                        field.classList.add('is-valid');
                    }
                });
                
                // بررسی ایمیل
                const emailField = document.getElementById('email');
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (emailField.value && !emailRegex.test(emailField.value)) {
                    emailField.classList.add('is-invalid');
                    isValid = false;
                }
                
                // بررسی شماره تلفن
                const phoneField = document.getElementById('phone');
                const phoneRegex = /^09[0-9]{9}$/;
                if (phoneField.value && !phoneRegex.test(phoneField.value)) {
                    phoneField.classList.add('is-invalid');
                    isValid = false;
                }
                
                // بررسی کد پستی
                const postalField = document.getElementById('postalCode');
                const postalRegex = /^\d{10}$/;
                if (postalField.value && !postalRegex.test(postalField.value)) {
                    postalField.classList.add('is-invalid');
                    isValid = false;
                }
                
                if (!isValid) {
                    showToast('لطفا تمام فیلدهای ضروری را به درستی پر کنید', 'error');
                }
                
                return isValid;
            }
            
            // ذخیره اطلاعات شخصی
            function savePersonalInfo() {
                checkoutData.personalInfo = {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    phone: document.getElementById('phone').value,
                    email: document.getElementById('email').value,
                    address: document.getElementById('address').value,
                    city: document.getElementById('city').value,
                    province: document.getElementById('province').value,
                    postalCode: document.getElementById('postalCode').value,
                    saveInfo: document.getElementById('saveInfo').checked
                };
                
                // ذخیره در localStorage اگر کاربر خواسته باشد
                if (checkoutData.personalInfo.saveInfo) {
                    localStorage.setItem('userShippingInfo', JSON.stringify(checkoutData.personalInfo));
                }
            }
            
            // ذخیره روش ارسال
            function saveShippingMethod() {
                const selectedShipping = document.querySelector('input[name="shippingMethod"]:checked');
                if (selectedShipping) {
                    checkoutData.shippingMethod = selectedShipping.value;
                }
            }
            
            // اعتبارسنجی اطلاعات پرداخت
            function validatePaymentInfo() {
                const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
                
                if (paymentMethod === 'online') {
                    const cardNumber = document.getElementById('cardNumber').value.replace(/\s/g, '');
                    const expiryDate = document.getElementById('expiryDate').value;
                    const cvv = document.getElementById('cvv').value;
                    
                    // اعتبارسنجی شماره کارت (الگوریتم لان)
                    function isValidCardNumber(number) {
                        if (!/^\d{16}$/.test(number)) return false;
                        
                        let sum = 0;
                        let isEven = false;
                        
                        for (let i = number.length - 1; i >= 0; i--) {
                            let digit = parseInt(number.charAt(i));
                            
                            if (isEven) {
                                digit *= 2;
                                if (digit > 9) digit -= 9;
                            }
                            
                            sum += digit;
                            isEven = !isEven;
                        }
                        
                        return sum % 10 === 0;
                    }
                    
                    // اعتبارسنجی تاریخ انقضا
                    function isValidExpiryDate(date) {
                        if (!/^\d{2}\/\d{2}$/.test(date)) return false;
                        
                        const [month, year] = date.split('/').map(Number);
                        const currentYear = new Date().getFullYear() % 100;
                        const currentMonth = new Date().getMonth() + 1;
                        
                        if (month < 1 || month > 12) return false;
                        if (year < currentYear) return false;
                        if (year === currentYear && month < currentMonth) return false;
                        
                        return true;
                    }
                    
                    // اعتبارسنجی CVV
                    function isValidCVV(cvv) {
                        return /^\d{3,4}$/.test(cvv);
                    }
                    
                    let isValid = true;
                    
                    if (!isValidCardNumber(cardNumber)) {
                        document.getElementById('cardNumber').classList.add('is-invalid');
                        isValid = false;
                    } else {
                        document.getElementById('cardNumber').classList.remove('is-invalid');
                        document.getElementById('cardNumber').classList.add('is-valid');
                    }
                    
                    if (!isValidExpiryDate(expiryDate)) {
                        document.getElementById('expiryDate').classList.add('is-invalid');
                        isValid = false;
                    } else {
                        document.getElementById('expiryDate').classList.remove('is-invalid');
                        document.getElementById('expiryDate').classList.add('is-valid');
                    }
                    
                    if (!isValidCVV(cvv)) {
                        document.getElementById('cvv').classList.add('is-invalid');
                        isValid = false;
                    } else {
                        document.getElementById('cvv').classList.remove('is-invalid');
                        document.getElementById('cvv').classList.add('is-valid');
                    }
                    
                    if (!isValid) {
                        showToast('لطفا اطلاعات کارت بانکی را به درستی وارد کنید', 'error');
                        return false;
                    }
                }
                
                return true;
            }
            
            // ذخیره روش پرداخت
            function savePaymentMethod() {
                const selectedPayment = document.querySelector('input[name="paymentMethod"]:checked');
                if (selectedPayment) {
                    checkoutData.paymentMethod = selectedPayment.value;
                }
            }
            
            // به‌روزرسانی خلاصه سفارش
            function updateOrderSummary() {
                const orderItemsContainer = document.getElementById('orderItems');
                const deliveryInfoContainer = document.getElementById('deliveryInfo');
                
                // پاک کردن محتوای قبلی
                orderItemsContainer.innerHTML = '';
                
                let subtotal = 0;
                
                // افزودن آیتم‌های سفارش
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    subtotal += itemTotal;
                    
                    const orderItemHTML = `
                        <div class="order-item">
                            <img src="${item.image}" alt="${item.name}">
                            <div class="order-item-details">
                                <div class="order-item-name">${item.name}</div>
                                <div class="order-item-quantity">تعداد: ${item.quantity}</div>
                            </div>
                            <div class="order-item-price">${formatPrice(itemTotal)} تومان</div>
                        </div>
                    `;
                    
                    orderItemsContainer.innerHTML += orderItemHTML;
                });
                
                // محاسبه هزینه ارسال
                let shippingCost = 0;
                if (checkoutData.shippingMethod === 'standard') {
                    shippingCost = 15000;
                }
                
                // محاسبه مالیات (9%)
                const tax = Math.round(subtotal * 0.09);
                
                // محاسبه مجموع نهایی
                const total = subtotal + shippingCost + tax;
                
                // به‌روزرسانی مقادیر
                document.getElementById('orderSubtotal').textContent = `${formatPrice(subtotal)} تومان`;
                document.getElementById('orderShipping').textContent = `${formatPrice(shippingCost)} تومان`;
                document.getElementById('orderTax').textContent = `${formatPrice(tax)} تومان`;
                document.getElementById('orderTotal').textContent = `${formatPrice(total)} تومان`;
                
                // به‌روزرسانی اطلاعات تحویل
                const deliveryInfoHTML = `
                    <p><strong>${checkoutData.personalInfo.firstName} ${checkoutData.personalInfo.lastName}</strong></p>
                    <p>${checkoutData.personalInfo.address}</p>
                    <p>${checkoutData.personalInfo.city}، ${checkoutData.personalInfo.province}</p>
                    <p>کد پستی: ${checkoutData.personalInfo.postalCode}</p>
                    <p>شماره تماس: ${checkoutData.personalInfo.phone}</p>
                    <p>ایمیل: ${checkoutData.personalInfo.email}</p>
                `;
                
                deliveryInfoContainer.innerHTML = deliveryInfoHTML;
            }
            
            // تایید نهایی سفارش
            confirmOrderBtn.addEventListener('click', function() {
                const agreeTermsCheckout = document.getElementById('agreeTermsCheckout');
                
                if (!agreeTermsCheckout.checked) {
                    agreeTermsCheckout.classList.add('is-invalid');
                    showToast('لطفا با قوانین و شرایط موافقت کنید', 'error');
                    return;
                }
                
                // ایجاد شماره سفارش
                const orderId = generateOrderId();
                document.getElementById('orderIdValue').textContent = orderId;
                
                // ذخیره سفارش در localStorage
                const order = {
                    id: orderId,
                    date: new Date().toISOString(),
                    items: cart,
                    personalInfo: checkoutData.personalInfo,
                    shippingMethod: checkoutData.shippingMethod,
                    paymentMethod: checkoutData.paymentMethod,
                    total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0)
                };
                
                // ذخیره تاریخچه سفارشات
                let orders = JSON.parse(localStorage.getItem('orders')) || [];
                orders.push(order);
                localStorage.setItem('orders', JSON.stringify(orders));
                
                // پاک کردن سبد خرید
                cart = [];
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                
                // بستن مودال تکمیل خرید
                const checkoutModalInstance = bootstrap.Modal.getInstance(checkoutModal);
                checkoutModalInstance.hide();
                
                // نمایش مودال موفقیت
                setTimeout(() => {
                    const successModal = new bootstrap.Modal(document.getElementById('successModal'));
                    successModal.show();
                }, 500);
            });
            
            // دکمه پیگیری سفارش
            document.getElementById('trackOrderBtn').addEventListener('click', function() {
                // در حالت واقعی به صفحه پیگیری هدایت می‌شود
                showToast('این بخش در حال توسعه است', 'info');
            });
            
            // بازگشت مراحل خرید به حالت اولیه هنگام بسته شدن مودال
            checkoutModal.addEventListener('hidden.bs.modal', function() {
                // بازنشانی مراحل
                currentStep = 1;
                
                // بازنشانی نمایش مراحل
                document.querySelectorAll('.step').forEach(step => {
                    step.classList.remove('active', 'completed');
                });
                
                document.querySelector('.step[data-step="1"]').classList.add('active');
                
                // بازنشانی محتوای مراحل
                document.querySelectorAll('.checkout-step').forEach(step => {
                    step.classList.remove('active');
                });
                document.getElementById('step1').classList.add('active');
                
                // بازنشانی دکمه‌ها
                prevStepBtn.style.display = 'none';
                nextStepBtn.style.display = 'block';
                confirmOrderBtn.style.display = 'none';
                nextStepBtn.textContent = 'مرحله بعد';
                
                // بازنشانی فرم‌ها
                document.getElementById('personalInfoForm').reset();
                document.querySelector('input[name="shippingMethod"][value="express"]').checked = true;
                document.querySelector('input[name="paymentMethod"][value="online"]').checked = true;
                document.getElementById('cardNumber').value = '';
                document.getElementById('expiryDate').value = '';
                document.getElementById('cvv').value = '';
                document.getElementById('agreeTermsCheckout').checked = false;
                
                // بازنشانی کلاس‌های اعتبارسنجی
                document.querySelectorAll('.form-control').forEach(input => {
                    input.classList.remove('is-valid', 'is-invalid');
                });
            });
            
            // رویداد کلیک روی گزینه‌های ارسال
            document.querySelectorAll('.shipping-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.shipping-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    this.classList.add('active');
                    const radio = this.querySelector('input[type="radio"]');
                    radio.checked = true;
                });
            });
            
            // رویداد کلیک روی گزینه‌های پرداخت
            document.querySelectorAll('.payment-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.payment-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    this.classList.add('active');
                    const radio = this.querySelector('input[type="radio"]');
                    radio.checked = true;
                    
                    // نمایش/مخفی کردن بخش اطلاعات کارت
                    const cardDetails = document.getElementById('cardDetails');
                    if (radio.value === 'online') {
                        cardDetails.style.display = 'block';
                    } else {
                        cardDetails.style.display = 'none';
                    }
                });
            });
            
            // نمایش/مخفی کردن بخش اطلاعات کارت بر اساس انتخاب پرداخت
            document.querySelectorAll('input[name="paymentMethod"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const cardDetails = document.getElementById('cardDetails');
                    if (this.value === 'online') {
                        cardDetails.style.display = 'block';
                    } else {
                        cardDetails.style.display = 'none';
                    }
                });
            });
            
            // مدیریت دکمه تکمیل خرید از سبد خرید
            document.getElementById('checkoutBtn').addEventListener('click', function() {
                if (cart.length === 0) {
                    showToast('سبد خرید شما خالی است', 'error');
                    return;
                }
                
                const cartModalInstance = bootstrap.Modal.getInstance(cartModal);
                cartModalInstance.hide();
                
                // بارگذاری اطلاعات ذخیره شده کاربر اگر وجود دارد
                const savedInfo = JSON.parse(localStorage.getItem('userShippingInfo'));
                if (savedInfo) {
                    document.getElementById('firstName').value = savedInfo.firstName || '';
                    document.getElementById('lastName').value = savedInfo.lastName || '';
                    document.getElementById('phone').value = savedInfo.phone || '';
                    document.getElementById('email').value = savedInfo.email || '';
                    document.getElementById('address').value = savedInfo.address || '';
                    document.getElementById('city').value = savedInfo.city || '';
                    document.getElementById('province').value = savedInfo.province || '';
                    document.getElementById('postalCode').value = savedInfo.postalCode || '';
                    document.getElementById('saveInfo').checked = true;
                }
                
                setTimeout(() => {
                    const checkoutModalInstance = new bootstrap.Modal(checkoutModal);
                    checkoutModalInstance.show();
                }, 300);
            });
            
            // مدیریت دکمه‌های علاقه‌مندی
            document.querySelectorAll('.wishlist-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = this.getAttribute('data-product-id');
                    const heartIcon = this.querySelector('i');
                    
                    // تغییر وضعیت قلب
                    if (heartIcon.classList.contains('far')) {
                        heartIcon.classList.remove('far');
                        heartIcon.classList.add('fas');
                        showToast('به علاقه‌مندی‌ها اضافه شد', 'success');
                    } else {
                        heartIcon.classList.remove('fas');
                        heartIcon.classList.add('far');
                        showToast('از علاقه‌مندی‌ها حذف شد', 'info');
                    }
                });
            });
            
            // فیلتر محصولات
            const categoryFilters = document.querySelectorAll('.category-filter');
            const brandFilters = document.querySelectorAll('.brand-filter');
            const ratingFilters = document.querySelectorAll('.rating-filter');
            const applyPriceFilter = document.getElementById('applyPriceFilter');
            const clearFilters = document.getElementById('clearFilters');
            const sortSelect = document.getElementById('sortSelect');
            const productItems = document.querySelectorAll('.product-item');
            
            // اعمال فیلترها
            function applyFilters() {
                const selectedCategories = Array.from(document.querySelectorAll('.category-filter:checked')).map(cb => cb.value);
                const selectedBrands = Array.from(document.querySelectorAll('.brand-filter:checked')).map(cb => cb.value);
                const selectedRating = document.querySelector('.rating-filter:checked')?.value || '0';
                const minPrice = parseInt(document.getElementById('minPrice').value) || 0;
                const maxPrice = parseInt(document.getElementById('maxPrice').value) || Infinity;
                
                productItems.forEach(item => {
                    const category = item.getAttribute('data-category');
                    const brand = item.getAttribute('data-brand');
                    const rating = parseFloat(item.getAttribute('data-rating'));
                    const price = parseInt(item.getAttribute('data-price'));
                    
                    const categoryMatch = selectedCategories.length === 0 || selectedCategories.includes(category);
                    const brandMatch = selectedBrands.length === 0 || selectedBrands.includes(brand);
                    const ratingMatch = selectedRating === '0' || rating >= parseFloat(selectedRating);
                    const priceMatch = price >= minPrice && price <= maxPrice;
                    
                    if (categoryMatch && brandMatch && ratingMatch && priceMatch) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            }
            
            // اضافه کردن رویداد به فیلترها
            categoryFilters.forEach(filter => {
                filter.addEventListener('change', applyFilters);
            });
            
            brandFilters.forEach(filter => {
                filter.addEventListener('change', applyFilters);
            });
            
            ratingFilters.forEach(filter => {
                filter.addEventListener('change', applyFilters);
            });
            
            applyPriceFilter.addEventListener('click', applyFilters);
            
            // مرتب‌سازی محصولات
            sortSelect.addEventListener('change', function() {
                const sortValue = this.value;
                const productContainer = document.getElementById('productsList');
                const products = Array.from(productItems);
                
                products.sort((a, b) => {
                    const priceA = parseInt(a.getAttribute('data-price'));
                    const priceB = parseInt(b.getAttribute('data-price'));
                    const ratingA = parseFloat(a.getAttribute('data-rating'));
                    const ratingB = parseFloat(b.getAttribute('data-rating'));
                    
                    switch (sortValue) {
                        case 'price-low':
                            return priceA - priceB;
                        case 'price-high':
                            return priceB - priceA;
                        case 'rating':
                            return ratingB - ratingA;
                        case 'newest':
                            return 0; // در حالت واقعی باید تاریخ محصولات مقایسه شود
                        default:
                            return 0;
                    }
                });
                
                // حذف محصولات فعلی
                productContainer.innerHTML = '';
                
                // اضافه کردن محصولات مرتب‌شده
                products.forEach(product => {
                    if (product.style.display !== 'none') {
                        productContainer.appendChild(product);
                    }
                });
            });
            
            // حذف فیلترها
            clearFilters.addEventListener('click', function() {
                // بازنشانی چک‌باکس‌ها
                categoryFilters.forEach(cb => cb.checked = false);
                brandFilters.forEach(cb => cb.checked = false);
                
                // بازنشانی رادیوها
                document.getElementById('ratingAll').checked = true;
                
                // بازنشانی قیمت
                document.getElementById('minPrice').value = '0';
                document.getElementById('maxPrice').value = '30000000';
                
                // بازنشانی مرتب‌سازی
                sortSelect.value = 'default';
                
                // اعمال فیلترها
                applyFilters();
                
                showToast('همه فیلترها حذف شدند', 'info');
            });
            
            // مدیریت فرم‌های احراز هویت
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            
            // نمایش/مخفی کردن رمز عبور
            function setupPasswordToggle(buttonId, inputId) {
                const toggleButton = document.getElementById(buttonId);
                const passwordInput = document.getElementById(inputId);
                
                if (toggleButton && passwordInput) {
                    toggleButton.addEventListener('click', function() {
                        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                        passwordInput.setAttribute('type', type);
                        this.querySelector('i').classList.toggle('fa-eye');
                        this.querySelector('i').classList.toggle('fa-eye-slash');
                    });
                }
            }
            
            setupPasswordToggle('toggleLoginPassword', 'loginPassword');
            setupPasswordToggle('toggleRegisterPassword', 'registerPassword');
            setupPasswordToggle('toggleConfirmPassword', 'confirmPassword');
            
            // اعتبارسنجی فرم ثبت‌نام
            if (registerForm) {
                registerForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const password = document.getElementById('registerPassword').value;
                    const confirmPassword = document.getElementById('confirmPassword').value;
                    
                    if (password !== confirmPassword) {
                        document.getElementById('confirmPassword').classList.add('is-invalid');
                        return;
                    }
                    
                    if (this.checkValidity()) {
                        const name = document.getElementById('registerName').value;
                        const email = document.getElementById('registerEmail').value;
                        const username = document.getElementById('registerUsername').value;
                        
                        // شبیه‌سازی ثبت‌نام کاربر
                        const userData = {
                            name: name,
                            email: email,
                            username: username
                        };
                        
                        loginUser(userData);
                        
                        // بستن مودال
                        const authModal = bootstrap.Modal.getInstance(document.getElementById('authModal'));
                        authModal.hide();
                        
                        // بازنشانی فرم
                        this.reset();
                    }
                });
            }
            
            // اعتبارسنجی فرم ورود
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    if (this.checkValidity()) {
                        const email = document.getElementById('loginEmail').value;
                        
                        // شبیه‌سازی ورود کاربر
                        const userData = {
                            name: 'مهدی عرشی',
                            email: email,
                            username: email.split('@')[0]
                        };
                        
                        loginUser(userData);
                        
                        // بستن مودال
                        const authModal = bootstrap.Modal.getInstance(document.getElementById('authModal'));
                        authModal.hide();
                        
                        // بازنشانی فرم
                        this.reset();
                    }
                });
            }
            
            // مدیریت فرم ثبت نظر
            document.querySelectorAll('.review-form').forEach(form => {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const productId = this.getAttribute('data-product-id');
                    const reviewText = this.querySelector('textarea').value;
                    
                    // در حالت واقعی اینجا نظر به سرور ارسال می‌شود
                    showToast('نظر شما با موفقیت ثبت شد', 'success');
                    
                    // پاک کردن فرم
                    this.reset();
                    
                    // بستن بخش نظرات
                    const details = this.closest('details');
                    details.removeAttribute('open');
                });
            });
            
            // مدیریت فرم خبرنامه
            const newsletterForm = document.getElementById('newsletterForm');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const email = document.getElementById('newsletterEmail').value;
                    
                    // در حالت واقعی اینجا ایمیل به سرور ارسال می‌شود
                    showToast(`ایمیل ${email} با موفقیت در خبرنامه ثبت شد`, 'success');
                    
                    // بازنشانی فرم
                    this.reset();
                });
            }
            
            // مدیریت جستجو
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');
            
            if (searchInput && searchResults) {
                searchInput.addEventListener('input', function() {
                    const searchTerm = this.value.trim().toLowerCase();
                    
                    if (searchTerm.length < 2) {
                        searchResults.style.display = 'none';
                        return;
                    }
                    
                    // فیلتر کردن محصولات بر اساس عبارت جستجو
                    const filteredProducts = Array.from(productItems).filter(item => {
                        const productName = item.getAttribute('data-name').toLowerCase();
                        const productDescription = item.querySelector('.card-text').textContent.toLowerCase();
                        
                        return productName.includes(searchTerm) || productDescription.includes(searchTerm);
                    });
                    
                    // نمایش نتایج
                    if (filteredProducts.length > 0) {
                        let resultsHTML = '';
                        
                        filteredProducts.slice(0, 5).forEach(product => {
                            const productName = product.getAttribute('data-name');
                            const productPrice = formatPrice(parseInt(product.getAttribute('data-price')));
                            const productImage = product.querySelector('img').src;
                            
                            resultsHTML += `
                                <div class="search-result-item" data-product-id="${product.getAttribute('data-category')}">
                                    <div class="d-flex align-items-center">
                                        <img src="${productImage}" alt="${productName}" class="search-result-image">
                                        <div>
                                            <div class="fw-bold">${productName}</div>
                                            <div class="text-success">${productPrice} تومان</div>
                                        </div>
                                    </div>
                                </div>
                            `;
                        });
                        
                        searchResults.innerHTML = resultsHTML;
                        searchResults.style.display = 'block';
                        
                        // اضافه کردن رویداد کلیک به نتایج
                        document.querySelectorAll('.search-result-item').forEach(item => {
                            item.addEventListener('click', function() {
                                const productId = this.getAttribute('data-product-id');
                                
                                // پرش به محصول مربوطه
                                document.getElementById(productId).scrollIntoView({ behavior: 'smooth' });
                                
                                // پنهان کردن نتایج جستجو
                                searchResults.style.display = 'none';
                                searchInput.value = '';
                            });
                        });
                    } else {
                        searchResults.innerHTML = '<div class="search-result-item">محصولی یافت نشد</div>';
                        searchResults.style.display = 'block';
                    }
                });
                
                // پنهان کردن نتایج جستجو هنگام کلیک در جای دیگر
                document.addEventListener('click', function(e) {
                    if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                        searchResults.style.display = 'none';
                    }
                });
            }
            
            // به‌روزرسانی تعداد سبد خرید در ابتدا
            updateCartCount();
        });
    </script>
    <!-- اسکریپت‌های اصلی -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="./script.js"></script>
</body>
</html>